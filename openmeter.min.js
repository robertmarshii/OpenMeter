var p,t,l,k,b,v,color="rgba(220,140,40,.6)",once=0,left=0,right=1,maxChar=27,inline=1,float="left",m="",position="absolute",modelJSON="https://use.openmeter.co.uk/my-model-1q.json",heightMargin=0,leftMargin=0;async function processModel(){fraw(!0,await tf.loadModel(modelJSON))}function fraw(e,o){try{if(!0===e){var r=p.toString().split(""),a=[],n=34-r.length;if(!p)return null;for(;n;)a.push(0),n--;for(var s=r.length-1;s>=0;s-=1){var i=r[s].charCodeAt(0);3===i.toString().length&&(i="0"+i),2===i.toString().length&&(i="00"+i),a.push(parseInt(i))}a=a.reverse(),tf.tidy(()=>{const e=tf.tensor2d([[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],a[17],a[18],a[19],a[20],a[21],a[22],a[23],a[24],a[25],a[26],a[27],a[28],a[29],a[30],a[31],a[32],a[33]]]);var r=o.predict(e).argMax(1).dataSync()[0].toString();if(!once){once=1;var n=document.createElement("canvas");n.id="OpenMeter",n.width=25,n.height=25,n.style.zIndex=1478,n.style.position=position,n.style.float=float,n.style.top=t+"px",n.style.left=l+"px","absolute"!==position&&(n.style.marginTop=t+"px",n.style.marginLeft=l+"px");var s=document.getElementsByTagName("body")[0];m&&m&&inline?m.appendChild(n):s.appendChild(n),(new canvasLoader).init()}var i=parseInt(r);i<=1?color="rgba(229,0,2,.6)":i>=2&&i<=4?color="rgba(229,2,0,.6)":i>=4&&i<6?color="rgba(229,7,0,.6)":i>=6&&i<8?color="rgba(229,12,0,.6)":i>=8&&i<10?color="rgba(230,17,0,.6)":i>=10&&i<12?color="rgba(230,22,0,.6)":i>=12&&i<14?color="rgba(230,27,0,.6)":i>=14&&i<16?color="rgba(231,33,0,.6)":i>=16&&i<18?color="rgba(231,38,0,.6)":i>=18&&i<20?color="rgba(231,43,0,.6)":i>=20&&i<22?color="rgba(232,48,0,.6)":i>=22&&i<24?color="rgba(232,53,0,.6)":i>=24&&i<26?color="rgba(239,59,0,.6)":i>=26&&i<28?color="rgba(233,64,0,.6)":i>=28&&i<30?color="rgba(233,69,0,.6)":i>=30&&i<31?color="rgba(233,75,0,.6)":i>=31&&i<32?color="rgba(234,80,0,.6)":i>=32&&i<33?color="rgba(234,85,0,.6)":i>=33&&i<34?color="rgba(234,90,0,.6)":i>=34&&i<35?color="rgba(235,96,0,.6)":i>=35&&i<36?color="rgba(235,101,0,.6)":i>=36&&i<37?color="rgba(235,107,1,.6)":i>=37&&i<38?color="rgba(236,117,1,.6)":i>=38&&i<39?color="rgba(236,128,1,.6)":i>=39&&i<40?color="rgba(237,139,1,.6)":i>=40&&i<41?color="rgba(237,145,1,.6)":i>=41&&i<42?color="rgba(238,158,1,.6)":i>=42&&i<43?color="rgba(239,167,0,.6)":i>=43&&i<44?color="rgba(239,172,0,.6)":i>=44&&i<45?color="rgba(239,178,0,.6)":i>=45&&i<46?color="rgba(240,183,0,.6)":i>=46&&i<47?color="rgba(240,189,0,.6)":i>=48&&i<49?color="rgba(240,194,0,.6)":i>=49&&i<50?color="rgba(241,200,0,.6)":i>=50&&i<51?color="rgba(241,206,0,.6)":i>=51&&i<52?color="rgba(241,211,0,.6)":i>=52&&i<53?color="rgba(242,217,0,.6)":i>=53&&i<54?color="rgba(242,233,0,.6)":i>=54&&i<55?color="rgba(242,228,0,.6)":i>=55&&i<56?color="rgba(242,234,0,.6)":i>=56&&i<57?color="rgba(243,240,0,.6)":i>=57&&i<58?color="rgba(241,243,0,.6)":i>=58&&i<59?color="rgba(236,243,0,.6)":i>=59&&i<60?color="rgba(231,244,0,.6)":i>=60&&i<62?color="rgba(226,244,0,.6)":i>=62&&i<64?color="rgba(220,244,0,.6)":i>=64&&i<66?color="rgba(215,245,0,.6)":i>=66&&i<68?color="rgba(210,245,0,.6)":i>=68&&i<70?color="rgba(205,245,0,.6)":i>=70&&i<72?color="rgba(200,246,0,.6)":i>=72&&i<74?color="rgba(195,246,0,.6)":i>=74&&i<76?color="rgba(189,246,0,.6)":i>=76&&i<78?color="rgba(184,247,0,.6)":i>=78&&i<81?color="rgba(179,247,0,.6)":i>=81&&i<84?color="rgba(174,247,0,.6)":i>=84&&i<87?color="rgba(168,248,0,.6)":i>=87&&i<90?color="rgba(163,248,0,.6)":i>=90&&i<95?color="rgba(158,248,0,.6)":i>=95&&(color="rgba(152,249,1,.6)"),document.getElementById("OpenMeter").dataset.result=i,updateModal(i)})}}catch(t){}}function updateColor(t){color=t}document.addEventListener("input",function(e){"password"==e.target.type&&(e.target.maxLength=maxChar,p=e.target.value,m=e.target.parentElement,l=left?e.target.offsetLeft-28+leftMargin:e.target.offsetLeft+e.target.scrollWidth+4+leftMargin,t=e.target.offsetTop+11+heightMargin,processModel())}),document.addEventListener("click",function(t){"OpenMeter"==t.target.id&&(k=t.target.dataset.result,b=t.target.offsetLeft,v=t.target.offsetTop,loadModal(k,b,v))}),document.addEventListener("click",function(t){"close"==t.target.id&&(document.getElementById("OpenMeterBox").style.display="none")});var canvasLoader=function(){var t=this;window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},t.init=function(){t.canvas=document.getElementById("OpenMeter"),t.ctx=t.canvas.getContext("2d"),t.ctx.lineWidth=.4,t.ctx.strokeStyle=color,t.count=2,t.rotation=Math.PI/180*270,t.speed=4,t.canvasLoop()},t.updateLoader=function(){t.rotation+=t.speed/100,t.ctx.strokeStyle=color},t.renderLoader=function(){t.ctx.save(),t.ctx.globalCompositeOperation="source-over",t.ctx.translate(12.5,12.5),t.ctx.strokeStyle=color,t.ctx.rotate(t.rotation);for(var e=t.count;e--;)t.ctx.beginPath(),t.ctx.arc(0,0,e+9*Math.random(),Math.random(),Math.PI/3+Math.random()/12,!1),t.ctx.stroke();t.ctx.restore()},t.canvasLoop=function(){requestAnimFrame(t.canvasLoop,t.canvas),t.ctx.globalCompositeOperation="destination-out",t.ctx.fillStyle="rgba(0,0,0,.03)",t.ctx.fillRect(0,0,0,0),t.ctx.strokeStyle=color,t.updateLoader(),t.renderLoader()}};function updateModal(t){document.getElementById("OpenMeterBox")&&rotateNeedle(t)}function loadModal(t,e,o){if(document.getElementById("OpenMeterBox"))document.getElementById("OpenMeterBox").style.display="block";else{var r=document.createElement("div");r.id="OpenMeterBox",r.innerHTML="<img style='width:140px;padding:20px;' src='https://use.openmeter.co.uk/i/meter.jpg' /><img id='needle' style='opacity:0.7;transform:rotate(0deg);transform-origin:0px;position:absolute;width:65px;left:40px;top:77px;' src='https://use.openmeter.co.uk/i/needle.png' /><div id='feedback'></div><div id='close' style='font-family:monospace;cursor:pointer;position:absolute;top:0;right:0;width:20px;height:20px;font-size:20px;color:red;'>X</div>",r.style.width=180,r.style.height="auto",r.style.color="black",r.style.border="#70b9b0 solid 3px",r.style.textAlign="center",r.style.borderRadius="6px",r.style.backgroundColor="rgba(255,255,255,1)",r.style.zIndex=1872,r.style.position="absolute",r.style.top=o-75+"px",r.style.left=e-150+"px",document.getElementsByTagName("body")[0].appendChild(r),document.getElementsByTagName("body")[0].appendChild(r)}rotateNeedle(t)}function rotateNeedle(t){var e=document.getElementById("needle"),o=document.getElementById("feedback"),r="";t<=6?(r=text1,e.style.transformOrigin="50px -16px",e.style.transform="rotate(7deg)"):t>6&&t<=12?(r=text2,e.style.transformOrigin="53px 3px",e.style.transform="rotate(22deg)"):t>12&&t<=19?(r=text3,e.style.transformOrigin="52px 6px",e.style.transform="rotate(37deg)"):t>19&&t<=25?(r=text4,e.style.transformOrigin="52px 8px",e.style.transform="rotate(52deg)"):t>25&&t<=31?(r=text5,e.style.transformOrigin="51px 9px",e.style.transform="rotate(67deg)"):t>31&&t<=38?(r=text6,e.style.transformOrigin="51px 10px",e.style.transform="rotate(82deg)"):t>38&&t<=46?(r=text7,e.style.transformOrigin="51px 10px",e.style.transform="rotate(97deg)"):t>46&&t<=53?(r=text8,e.style.transformOrigin="51px 11px",e.style.transform="rotate(113deg)"):t>53&&t<=59?(r=text9,e.style.transformOrigin="51px 11px",e.style.transform="rotate(128deg)"):t>59&&t<=65?(r=text10,e.style.transformOrigin="51px 11px",e.style.transform="rotate(143deg)"):t>65&&t<=71?(r=text11,e.style.transformOrigin="51px 12px",e.style.transform="rotate(158deg)"):t>71&&t<=76?(r=text12,e.style.transformOrigin="51px 12px",e.style.transform="rotate(174deg)"):t>76&&t<=80?(r=text13,e.style.transformOrigin="51px 12px",e.style.transform="rotate(189deg)"):t>80&&t<=85?(r=text14,e.style.transformOrigin="51px 12px",e.style.transform="rotate(203deg)"):t>85&&t<=90?(r=text15,e.style.transformOrigin="51px 12px",e.style.transform="rotate(218deg)"):(r=text16,e.style.transformOrigin="51px 13px",e.style.transform="rotate(231deg)"),o.innerHTML="Your password scored "+t+"/100. "+r+"<br/><a href='https://www.openmeter.co.uk' style='clear: both; font-size: 11px; width: 100%; float: left; margin-top: 10px;margin-bottom:5px;'>The Open Meter</a>"}var iOS=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);iOS&&(document.body.style.cursor="pointer");