var p,t,l,k,b,v,color="rgba(220,140,40,.6)",once=0,left=0,right=1,maxChar=27,inline=1,float="left",m="",position="absolute",modelJSON="https://use.openmeter.co.uk/my-model-1q.json",heightMargin=0,leftMargin=0;async function processModel(){const a=await tf.loadModel(modelJSON);fraw(!0,a)}function fraw(b,c){try{if(!0===b){var d=p.toString().split(""),e=[],f=34-d.length;if(!p)return null;for(;f;)e.push(0),f--;for(var g,h=d.length-1;h>=0;h-=1)g=d[h].charCodeAt(0),3===g.toString().length&&(g="0"+g),2===g.toString().length&&(g="00"+g),e.push(parseInt(g));e=e.reverse(),tf.tidy(()=>{const a=tf.tensor2d([[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15],e[16],e[17],e[18],e[19],e[20],e[21],e[22],e[23],e[24],e[25],e[26],e[27],e[28],e[29],e[30],e[31],e[32],e[33]]]);let b=c.predict(a),d=b.argMax(1),f=d.dataSync()[0];var g=f.toString();if(!once){once=1;var h=document.createElement("canvas");h.id="OpenMeter",h.width=25,h.height=25,h.style.zIndex=1478,h.style.position=position,h.style.float=float,h.style.top=t+"px",h.style.left=l+"px",(h.style.top=t+"px",h.style.left=l+"px");var i=document.getElementsByTagName("body")[0];m?m&&inline?m.appendChild(h):i.appendChild(h):i.appendChild(h);var j=new canvasLoader;j.init()}var k=parseInt(g);1>=k?color="rgba(229,0,2,.6)":2<=k&&4>=k?color="rgba(229,2,0,.6)":4<=k&&6>k?color="rgba(229,7,0,.6)":6<=k&&8>k?color="rgba(229,12,0,.6)":8<=k&&10>k?color="rgba(230,17,0,.6)":10<=k&&12>k?color="rgba(230,22,0,.6)":12<=k&&14>k?color="rgba(230,27,0,.6)":14<=k&&16>k?color="rgba(231,33,0,.6)":16<=k&&18>k?color="rgba(231,38,0,.6)":18<=k&&20>k?color="rgba(231,43,0,.6)":20<=k&&22>k?color="rgba(232,48,0,.6)":22<=k&&24>k?color="rgba(232,53,0,.6)":24<=k&&26>k?color="rgba(239,59,0,.6)":26<=k&&28>k?color="rgba(233,64,0,.6)":28<=k&&30>k?color="rgba(233,69,0,.6)":30<=k&&31>k?color="rgba(233,75,0,.6)":31<=k&&32>k?color="rgba(234,80,0,.6)":32<=k&&33>k?color="rgba(234,85,0,.6)":33<=k&&34>k?color="rgba(234,90,0,.6)":34<=k&&35>k?color="rgba(235,96,0,.6)":35<=k&&36>k?color="rgba(235,101,0,.6)":36<=k&&37>k?color="rgba(235,107,1,.6)":37<=k&&38>k?color="rgba(236,117,1,.6)":38<=k&&39>k?color="rgba(236,128,1,.6)":39<=k&&40>k?color="rgba(237,139,1,.6)":40<=k&&41>k?color="rgba(237,145,1,.6)":41<=k&&42>k?color="rgba(238,158,1,.6)":42<=k&&43>k?color="rgba(239,167,0,.6)":43<=k&&44>k?color="rgba(239,172,0,.6)":44<=k&&45>k?color="rgba(239,178,0,.6)":45<=k&&46>k?color="rgba(240,183,0,.6)":46<=k&&47>k?color="rgba(240,189,0,.6)":48<=k&&49>k?color="rgba(240,194,0,.6)":49<=k&&50>k?color="rgba(241,200,0,.6)":50<=k&&51>k?color="rgba(241,206,0,.6)":51<=k&&52>k?color="rgba(241,211,0,.6)":52<=k&&53>k?color="rgba(242,217,0,.6)":53<=k&&54>k?color="rgba(242,233,0,.6)":54<=k&&55>k?color="rgba(242,228,0,.6)":55<=k&&56>k?color="rgba(242,234,0,.6)":56<=k&&57>k?color="rgba(243,240,0,.6)":57<=k&&58>k?color="rgba(241,243,0,.6)":58<=k&&59>k?color="rgba(236,243,0,.6)":59<=k&&60>k?color="rgba(231,244,0,.6)":60<=k&&62>k?color="rgba(226,244,0,.6)":62<=k&&64>k?color="rgba(220,244,0,.6)":64<=k&&66>k?color="rgba(215,245,0,.6)":66<=k&&68>k?color="rgba(210,245,0,.6)":68<=k&&70>k?color="rgba(205,245,0,.6)":70<=k&&72>k?color="rgba(200,246,0,.6)":72<=k&&74>k?color="rgba(195,246,0,.6)":74<=k&&76>k?color="rgba(189,246,0,.6)":76<=k&&78>k?color="rgba(184,247,0,.6)":78<=k&&81>k?color="rgba(179,247,0,.6)":81<=k&&84>k?color="rgba(174,247,0,.6)":84<=k&&87>k?color="rgba(168,248,0,.6)":87<=k&&90>k?color="rgba(163,248,0,.6)":90<=k&&95>k?color="rgba(158,248,0,.6)":95<=k&&(color="rgba(152,249,1,.6)"),document.getElementById("OpenMeter").dataset.result=k,updateModal(k)})}}catch(a){}}document.addEventListener("input",function(a){"password"==a.target.type&&(a.target.maxLength=maxChar,p=a.target.value,m=a.target.parentElement,l=left?a.target.offsetLeft-28+leftMargin:a.target.offsetLeft+a.target.scrollWidth+4+leftMargin,t=a.target.offsetTop+11+heightMargin,processModel())}),document.addEventListener("click",function(a){"OpenMeter"==a.target.id&&(k=a.target.dataset.result,b=a.target.offsetLeft,v=a.target.offsetTop,loadModal(k,b,v))}),document.addEventListener("click",function(a){"close"==a.target.id&&(document.getElementById("OpenMeterBox").style.display="none")});function updateColor(a){color=a}var canvasLoader=function(){var a=this;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1E3/60)}}(),a.init=function(){a.canvas=document.getElementById("OpenMeter"),a.ctx=a.canvas.getContext("2d"),a.ctx.lineWidth=.4,a.ctx.strokeStyle=color,a.count=2,a.rotation=270*(Math.PI/180),a.speed=4,a.canvasLoop()},a.updateLoader=function(){a.rotation+=a.speed/100,a.ctx.strokeStyle=color},a.renderLoader=function(){a.ctx.save(),a.ctx.globalCompositeOperation="source-over",a.ctx.translate(12.5,12.5),a.ctx.strokeStyle=color,a.ctx.rotate(a.rotation);for(var b=a.count;b--;)a.ctx.beginPath(),a.ctx.arc(0,0,b+9*Math.random(),Math.random(),Math.PI/3+Math.random()/12,!1),a.ctx.stroke();a.ctx.restore()},a.canvasLoop=function(){requestAnimFrame(a.canvasLoop,a.canvas),a.ctx.globalCompositeOperation="destination-out",a.ctx.fillStyle="rgba(0,0,0,.03)",a.ctx.fillRect(0,0,0,0),a.ctx.strokeStyle=color,a.updateLoader(),a.renderLoader()}};function updateModal(a){var b=document.getElementById("OpenMeterBox");b&&rotateNeedle(a)}function loadModal(a,b,c){if(document.getElementById("OpenMeterBox"))document.getElementById("OpenMeterBox").style.display="block";else{var d=document.createElement("div");d.id="OpenMeterBox",d.innerHTML="<img style='width:140px;padding:20px;' src='https://use.openmeter.co.uk/i/meter.jpg' /><img id='needle' style='opacity:0.7;transform:rotate(0deg);transform-origin:0px;position:absolute;width:65px;left:40px;top:77px;' src='https://use.openmeter.co.uk/i/needle.png' /><div id='feedback'></div><div id='close' style='font-family:monospace;cursor:pointer;position:absolute;top:0;right:0;width:20px;height:20px;font-size:20px;color:red;'>X</div>",d.style.width=180,d.style.height="auto",d.style.color="black",d.style.border="#70b9b0 solid 3px",d.style.textAlign="center",d.style.borderRadius="6px",d.style.backgroundColor="rgba(255,255,255,1)",d.style.zIndex=1872,d.style.position="absolute",d.style.top=c-75+"px",d.style.left=b-150+"px",document.getElementsByTagName("body")[0].appendChild(d);var e=document.getElementsByTagName("body")[0];e.appendChild(d)}rotateNeedle(a)}function rotateNeedle(a){var b=document.getElementById("needle"),c=document.getElementById("feedback"),d="";6>=a?(d=text1,b.style.transformOrigin="50px -16px",b.style.transform="rotate(7deg)"):6<a&&12>=a?(d=text2,b.style.transformOrigin="53px 3px",b.style.transform="rotate(22deg)"):12<a&&19>=a?(d=text3,b.style.transformOrigin="52px 6px",b.style.transform="rotate(37deg)"):19<a&&25>=a?(d=text4,b.style.transformOrigin="52px 8px",b.style.transform="rotate(52deg)"):25<a&&31>=a?(d=text5,b.style.transformOrigin="51px 9px",b.style.transform="rotate(67deg)"):31<a&&38>=a?(d=text6,b.style.transformOrigin="51px 10px",b.style.transform="rotate(82deg)"):38<a&&46>=a?(d=text7,b.style.transformOrigin="51px 10px",b.style.transform="rotate(97deg)"):46<a&&53>=a?(d=text8,b.style.transformOrigin="51px 11px",b.style.transform="rotate(113deg)"):53<a&&59>=a?(d=text9,b.style.transformOrigin="51px 11px",b.style.transform="rotate(128deg)"):59<a&&65>=a?(d=text10,b.style.transformOrigin="51px 11px",b.style.transform="rotate(143deg)"):65<a&&71>=a?(d=text11,b.style.transformOrigin="51px 12px",b.style.transform="rotate(158deg)"):71<a&&76>=a?(d=text12,b.style.transformOrigin="51px 12px",b.style.transform="rotate(174deg)"):76<a&&80>=a?(d=text13,b.style.transformOrigin="51px 12px",b.style.transform="rotate(189deg)"):80<a&&85>=a?(d=text14,b.style.transformOrigin="51px 12px",b.style.transform="rotate(203deg)"):85<a&&90>=a?(d=text15,b.style.transformOrigin="51px 12px",b.style.transform="rotate(218deg)"):(d=text16,b.style.transformOrigin="51px 13px",b.style.transform="rotate(231deg)"),c.innerHTML="Your password scored "+a+"/100. "+d+"<br/><a href='https://www.openmeter.co.uk' style='clear: both; font-size: 11px; width: 100%; float: left; margin-top: 10px;margin-bottom:5px;'>The Open Meter</a>"}